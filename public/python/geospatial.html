<div class="space-y-6">
  <div class="border-b pb-4">
    <h1 class="text-3xl font-bold text-gray-800">The Complete Paradigm: Geospatial Data Science</h1>
    <p class="text-gray-600 mt-2 text-lg">Understanding the "WHERE" in data science.</p>
  </div>

  <!-- Part 1: The Mental Model -->
  <div class="border-l-4 border-indigo-500 pl-4">
    <h2 class="font-bold text-xl text-indigo-700">1. The Mental Model</h2>
    <p class="mt-2 text-gray-700">Regular data science deals with attributes. Geospatial data adds <strong>location</strong>.</p>
    
    <div class="bg-gray-100 p-4 rounded-lg mt-3 font-mono text-sm border border-gray-200">
      <div class="text-gray-500"># Regular Data</div>
      <div>[Name, Age, Income, Category]</div>
      <div class="text-gray-500 mt-2"># Geospatial Data</div>
      <div class="font-semibold text-indigo-600">[Name, Age, Income, Category, WHERE]</div>
    </div>

    <div class="mt-4 grid grid-cols-1 md:grid-cols-2 gap-4">
      <div class="bg-indigo-50 p-3 rounded-lg">
        <h3 class="font-bold text-indigo-800 mb-1">Geometry</h3>
        <p class="text-sm text-indigo-700">The shape (math). Points, lines, polygons in abstract space.</p>
      </div>
      <div class="bg-green-50 p-3 rounded-lg">
        <h3 class="font-bold text-green-800 mb-1">Geography</h3>
        <p class="text-sm text-green-700">The shape on Earth. Requires understanding Earth is a 3D ellipsoid.</p>
      </div>
    </div>
  </div>

  <!-- Part 2: Geometry Types -->
  <div class="border-l-4 border-blue-500 pl-4">
    <h2 class="font-bold text-xl text-blue-700">2. Geometry Types</h2>
    
    <div class="grid grid-cols-3 gap-3 mt-3">
      <div class="bg-white border border-gray-200 p-3 rounded-lg text-center shadow-sm">
        <div class="text-2xl mb-1">üìç</div>
        <div class="font-bold text-gray-800">Point</div>
        <div class="text-xs text-gray-500">(x, y)</div>
        <div class="text-xs text-blue-600 mt-1">Single location</div>
      </div>
      <div class="bg-white border border-gray-200 p-3 rounded-lg text-center shadow-sm">
        <div class="text-2xl mb-1">„Ä∞Ô∏è</div>
        <div class="font-bold text-gray-800">LineString</div>
        <div class="text-xs text-gray-500">[(x1,y1), (x2,y2)...]</div>
        <div class="text-xs text-blue-600 mt-1">Roads, paths</div>
      </div>
      <div class="bg-white border border-gray-200 p-3 rounded-lg text-center shadow-sm">
        <div class="text-2xl mb-1">üõë</div>
        <div class="font-bold text-gray-800">Polygon</div>
        <div class="text-xs text-gray-500">[(x1,y1)...(x1,y1)]</div>
        <div class="text-xs text-blue-600 mt-1">Areas, regions</div>
      </div>
    </div>
  </div>

  <!-- Part 3: CRS -->
  <div class="border-l-4 border-red-500 pl-4">
    <h2 class="font-bold text-xl text-red-700">3. Coordinate Reference Systems (CRS)</h2>
    <p class="text-sm text-gray-600 mt-2 mb-3">Earth is round, maps are flat. Every projection is a compromise.</p>

    <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
      <div class="bg-white border border-red-100 rounded-lg p-3">
        <h3 class="font-semibold text-red-700">Geographic (Unprojected)</h3>
        <code class="block bg-gray-100 p-1 rounded mt-1 text-xs">EPSG:4326 (WGS84)</code>
        <ul class="text-sm text-gray-600 mt-2 list-disc list-inside">
          <li><strong>Units:</strong> Degrees (lat/lon)</li>
          <li><strong>Good for:</strong> Storage, Web Maps</li>
          <li><strong>Bad for:</strong> Measuring distance/area</li>
        </ul>
      </div>
      <div class="bg-white border border-red-100 rounded-lg p-3">
        <h3 class="font-semibold text-red-700">Projected</h3>
        <code class="block bg-gray-100 p-1 rounded mt-1 text-xs">EPSG:3857, UTM, State Plane</code>
        <ul class="text-sm text-gray-600 mt-2 list-disc list-inside">
          <li><strong>Units:</strong> Meters/Feet</li>
          <li><strong>Good for:</strong> Analysis, Distance, Area</li>
          <li><strong>Bad for:</strong> Global storage</li>
        </ul>
      </div>
    </div>

    <div class="bg-yellow-50 border-l-4 border-yellow-400 p-3 mt-4 text-sm">
      <strong>‚ö†Ô∏è The Golden Rule:</strong> Always match CRS before spatial operations.
      <pre class="bg-white p-2 rounded mt-2 border border-yellow-200 text-xs overflow-x-auto"><span class="text-blue-500">if</span> gdf1.crs != gdf2.crs:
    gdf1 = gdf1.to_crs(gdf2.crs)</pre>
    </div>
  </div>

  <!-- Part 4: Pandas to GeoPandas -->
  <div class="border-l-4 border-green-500 pl-4">
    <h2 class="font-bold text-xl text-green-700">4. Pandas to GeoPandas</h2>
    <div class="bg-gray-800 text-white p-4 rounded-lg mt-3 text-sm overflow-x-auto">
<pre><span class="text-purple-400">import</span> geopandas <span class="text-purple-400">as</span> gpd
<span class="text-purple-400">from</span> shapely.geometry <span class="text-purple-400">import</span> Point

<span class="text-gray-500"># 1. Start with DataFrame with lat/lon</span>
df = pd.read_csv(<span class="text-green-300">"data.csv"</span>)

<span class="text-gray-500"># 2. Convert to GeoDataFrame</span>
gdf = gpd.GeoDataFrame(
    df,
    geometry=gpd.points_from_xy(df.lon, df.lat),
    crs=<span class="text-green-300">"EPSG:4326"</span>
)

<span class="text-gray-500"># Now you have .geometry access!</span>
<span class="text-blue-300">print</span>(gdf.geometry.centroid)</pre>
    </div>
  </div>

  <!-- Part 6: Spatial Relationships -->
  <div class="border-l-4 border-purple-500 pl-4">
    <h2 class="font-bold text-xl text-purple-700">5. Spatial Relationships</h2>
    <p class="text-sm text-gray-600 mt-1">True/False questions about geometry pairs.</p>

    <div class="grid grid-cols-2 gap-2 mt-3 text-sm">
      <div class="bg-purple-50 p-2 rounded border border-purple-100">
        <span class="font-mono text-purple-700">contains</span>
        <div class="text-xs text-gray-500">A completely inside B</div>
      </div>
      <div class="bg-purple-50 p-2 rounded border border-purple-100">
        <span class="font-mono text-purple-700">intersects</span>
        <div class="text-xs text-gray-500">Any overlap at all</div>
      </div>
      <div class="bg-purple-50 p-2 rounded border border-purple-100">
        <span class="font-mono text-purple-700">within</span>
        <div class="text-xs text-gray-500">Inverse of contains</div>
      </div>
      <div class="bg-purple-50 p-2 rounded border border-purple-100">
        <span class="font-mono text-purple-700">touches</span>
        <div class="text-xs text-gray-500">Boundaries touch only</div>
      </div>
    </div>
    
    <div class="mt-4 bg-white border border-gray-200 rounded p-3">
         <div class="font-semibold text-gray-700 mb-2">Visual Guide</div>
         <div class="flex justify-around text-center text-xs">
             <div class="border p-2 rounded">
                 <div class="font-bold">Contains</div>
                 <div class="mt-1">üî≥ includes ‚ñ´Ô∏è</div>
             </div>
             <div class="border p-2 rounded">
                 <div class="font-bold">Intersects</div>
                 <div class="mt-1">‚ùå overlap</div>
             </div>
             <div class="border p-2 rounded">
                 <div class="font-bold">Disjoint</div>
                 <div class="mt-1">üî≥ ... üî≥</div>
             </div>
         </div>
    </div>
  </div>

  <!-- Part 8: Spatial Joins -->
  <div class="border-l-4 border-orange-500 pl-4">
    <h2 class="font-bold text-xl text-orange-700">6. Spatial Joins (sjoin)</h2>
    <p class="text-gray-700 mt-1">Joining data based on location, not keys.</p>
    
    <div class="bg-gray-800 text-white p-4 rounded-lg mt-3 text-sm overflow-x-auto">
<pre><span class="text-gray-500"># "Which neighborhood is this crime in?"</span>

<span class="text-gray-500"># Left: Points (Crimes)</span>
<span class="text-gray-500"># Right: Polygons (Neighborhoods)</span>
joined = gpd.sjoin(
    crimes,
    neighborhoods,
    how=<span class="text-green-300">"left"</span>,
    predicate=<span class="text-green-300">"within"</span>
)

<span class="text-gray-500"># Result: Crimes DataFrame with neighborhood columns attached</span></pre>
    </div>
    
    <div class="mt-3 bg-orange-50 p-3 rounded text-sm text-orange-800">
      <strong>Common Predicates:</strong> <code>intersects</code> (default), <code>within</code>, <code>contains</code>.
    </div>
  </div>

  <!-- Part 11: Viz -->
  <div class="border-l-4 border-teal-500 pl-4">
    <h2 class="font-bold text-xl text-teal-700">7. Visualization</h2>
    
    <div class="bg-white border border-gray-200 rounded-lg p-4 mt-3">
      <div class="font-semibold text-teal-700 mb-2">Static (Matplotlib)</div>
      <div class="bg-gray-800 text-white p-3 rounded text-sm">
<pre>gdf.plot(
    column=<span class="text-green-300">'population'</span>,
    cmap=<span class="text-green-300">'viridis'</span>,
    legend=<span class="text-purple-400">True</span>
)</pre>
      </div>
    </div>

    <div class="bg-white border border-gray-200 rounded-lg p-4 mt-3">
      <div class="font-semibold text-teal-700 mb-2">Interactive (Folium)</div>
      <div class="bg-gray-800 text-white p-3 rounded text-sm">
<pre><span class="text-purple-400">import</span> folium
m = folium.Map(location=[<span class="text-yellow-400">41.88</span>, <span class="text-yellow-400">-87.63</span>])
folium.GeoJson(gdf).add_to(m)</pre>
      </div>
    </div>
  </div>

  <!-- Checklist -->
  <div class="bg-gray-50 rounded-lg p-6 border border-gray-200">
    <h2 class="font-bold text-lg text-gray-800 mb-4 border-b pb-2">‚úÖ The Geometric Checklist</h2>
    <ul class="space-y-2 text-sm text-gray-700">
      <li class="flex items-center gap-2">
        <input type="checkbox" disabled class="rounded text-blue-500">
        <span>What is my CRS? (<code class="bg-white px-1">gdf.crs</code>)</span>
      </li>
      <li class="flex items-center gap-2">
        <input type="checkbox" disabled class="rounded text-blue-500">
        <span>Do layers match? (<code class="bg-white px-1">to_crs()</code>)</span>
      </li>
      <li class="flex items-center gap-2">
        <input type="checkbox" disabled class="rounded text-blue-500">
        <span>Measuring distance? Project to meters first!</span>
      </li>
      <li class="flex items-center gap-2">
        <input type="checkbox" disabled class="rounded text-blue-500">
        <span>Web mapping? Use EPSG:4326.</span>
      </li>
      <li class="flex items-center gap-2">
        <input type="checkbox" disabled class="rounded text-blue-500">
        <span>Are geometries valid? (<code class="bg-white px-1">is_valid</code>)</span>
      </li>
    </ul>
  </div>
</div>
